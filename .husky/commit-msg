commit_msg_file=$1
first_line=$(grep -v '^#' "$commit_msg_file" | head -n 1)

# Regex corrigÃ©e avec emojis littÃ©raux (âœ¨ et ğŸš€)
if ! echo "$first_line" | grep -qE '(:[a-z_]+:|ğŸ¨|âœ¨|ğŸ›|ğŸš‘ï¸|ğŸ“|ğŸš€|ğŸ’„|ğŸ‰|âœ…|ğŸ”’|ğŸ”–|ğŸš¨|ğŸš§|ğŸ’š|â¬‡ï¸|â¬†ï¸|ğŸ“Œ|ğŸ‘·|ğŸ“ˆ|â™»ï¸|ğŸ”¥|ğŸ—‘ï¸|ğŸ›‚|ğŸšš|ğŸ“„|ğŸ’¥|ğŸ±|â™¿ï¸|ğŸ’¡|ğŸ»|ğŸ’¬|ğŸ—ƒï¸|ğŸ—‚ï¸|ğŸ”Š|ğŸ”‡|ğŸ‘¥|ğŸš¸|ğŸ—ï¸|ğŸ“±|ğŸ¤¡|ğŸ¥š|ğŸ™ˆ|ğŸ“¸|âš—ï¸|ğŸ”|ğŸ·ï¸|ğŸŒ±|ğŸš©|ğŸ¥…|ğŸ’«|ğŸ—’ï¸|ğŸ’‰|ğŸ”§)'
then
  echo "âŒ Le message doit commencer par un gitmoji officiel !"
  echo "$first_line"
  exit 1
fi